{extend name="other_base" /} {block name="other_content"}


<div class="alert alert-info">
    产品列表
</div>
<div class="panel panel-info">
    <div class="panel-body">
        <table class="table table-striped table-bordered table-hover">
            <thead>
                <tr>
                    <th>编号</th>
                    <th>产品名称</th>
                    <th>产品版本</th>
                    <th>操作</th>
                </tr>
            </thead>
            <tbody>
                {volist name="dataPdt" id="vo"}
                <tr>
                    <td>{$vo.pdt_id}</td>
                    <td>
                        <a href="{:url('read',['id'=>$vo.pdt_id])}">{$vo.pdt_name}</a>
                    </td>
                    <td>{$vo.pdt_version}</td>
                    <td>
                        <div class="btn-group">
                            <button type="button" class="btn btn-primary btn-xs dropdown-toggle" data-toggle="dropdown">操作
                                <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu" role="menu">
                                <li>
                                    <a href="{:url('edit',['pdt_id'=>$vo.pdt_id])}">修改</a>
                                </li>
                                <li class="divider"></li>
                                <li>
                                    <a href="javascript:del({$vo.pdt_id})">删除</a>
                                </li>
                            </ul>
                        </div>
                    </td>
                </tr>
                {/volist}
            </tbody>
        </table>
        {$dataPdt->render()} {/block}
    </div>
</div>

<script>
    function del(id) {
        require(['hdjs'], function (hdjs) {
            hdjs.confirm('确定删除吗?', function () {
                location.href = "{:url('del')}" + "?pdt_id=" + id;
            });
        });
    }
</script>