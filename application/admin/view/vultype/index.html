{extend name="other_base" /} {block name="other_content"}


<div class="alert alert-info">
    漏洞列表
</div>
<div class="panel panel-info">
    <div class="panel-body">
        <table class="table table-striped table-bordered table-hover">
            <thead>
                <tr>
                    <th>编号</th>
                    <th>一级分类</th>
                    <th>漏洞名称</th>
                    <th>操作</th>
                </tr>
            </thead>
            <tbody>
                {volist name="vtype" id="vo"}
                <tr>
                    <td>{$vo.tid}</td>
                    <td>{$vo.t_first}</td>
                    <td>{$vo.t_second}</td>
                    <td>
                        <div class="btn-group">
                            <button type="button" class="btn btn-primary btn-xs dropdown-toggle" data-toggle="dropdown">操作
                                <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu" role="menu">
                                <li>
                                    <a href="{:url('edit',['tid'=>$vo.tid])}">修改</a>
                                </li>
                                <li class="divider"></li>
                                <li>
                                    <a href="javascript:del({$vo.tid})">删除</a>
                                </li>
                            </ul>
                        </div>
                    </td>
                </tr>
                {/volist}
            </tbody>
        </table>
        {$vtype->render()}
    </div>
</div>

<script>
    function del(id) {
        require(['hdjs'], function (hdjs) {
            hdjs.confirm('确定删除吗?', function () {
                location.href = "{:url('del')}" + "?tid=" + id;
            });
        });
    }
</script> {/block}